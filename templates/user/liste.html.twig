{% extends 'base.html.twig' %}

{% block title %}Liste index{% endblock %}

{% block body %}

    <div id="statsContainer">
        <h1>Bonjour, {{ pseudo }}. Voici vos différentes statistiques d'achats :</h1>
        <div id="slider">
        </div>
    </div>


    <div id="toutAccueil">
    <br/>
    <a href="{{ path('app_user_liste_new') }}">
        <div id="plusBouton">
                <div id="vertical"></div>
                <div id="horizontal"></div>
        </div>
    </a>
<br/>
    <div id="derniereListeContainer">
        <div id="derniereLigne1">
            <div id="#dernLeftLigne" class="Ligne"></div>
            <h1>Dernière liste</h1>
            <div id="#dernRightLigne" class="Ligne"></div>
        </div>
        <div id="derniereLigne2">
            <div class="infosLigne">
                <a href="{{ path('app_user_liste_id', {'id': derniereListeId}) }}"><h1 class="h1Ligne">{{derniereListe.nomListe}} &nbsp;-&nbsp; {{derniereListe.dateCreation | date('d/m/y')}}</h1></a>
            </div>
            <br/>
            <div class="moinsBouton">
            <form method="post" action="{{ path('app_liste_delete', {'id': derniereListeId}) }}" onsubmit="return confirm('Voulez vous vraiment supprimer cette liste ?');">
                <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ derniereListeId) }}">
                <button class="delete-btn-moins"></button>
            </form>
            <form method="post" action="{{ path('app_liste_delete', {'id': derniereListeId}) }}" onsubmit="return confirm('Voulez vous vraiment supprimer cette liste ?');">
                <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ derniereListeId) }}">
                <button class="delete-btn"></button>
            </form>
            </div>
        </div>
    </div>

    {% for liste in listes %}

        <div class="derniereListeContainer">
            <div class="ligne1liste">
                <div id="#LeftLigne" class="LeftLigne"></div>
                <h1>{{ liste.dateCreation | date('d/m/y') }}</h1>
                <div id="#RightLigne" class="RightLigne"></div>
            </div>
            <div class="ligne2liste">
                <div class="infosLigne">
                    <a href="{{ path('app_user_liste_id', {'id': liste.id}) }}"><h1 class="h1Ligne">{{liste.nomListe}}</h1></a>
                </div>
                <br/>
                <div class="moinsBouton">
                <form method="post" action="{{ path('app_liste_delete', {'id': liste.id}) }}" onsubmit="return confirm('Voulez vous vraiment supprimer cette liste ?');">
                    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ liste.id) }}">
                    <button class="delete-btn-moins"></button>
                </form>
                <form method="post" action="{{ path('app_liste_delete', {'id': liste.id}) }}" onsubmit="return confirm('Voulez vous vraiment supprimer cette liste ?');">
                    <input type="hidden" name="_token" value="{{ csrf_token('delete' ~ liste.id) }}">
                    <button class="delete-btn"></button>
                </form>
                </div>
            </div>
        </div>

        {% else %}
            <tr>
                <td colspan="4">no records found</td>
            </tr>
        {% endfor %}

    </div>
{% endblock %}
